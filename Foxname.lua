local Translations = {
   --["这里填要替换的英文"] = "这里填中文",
    ["Foxname - 99 Night in the forest | v1.0.5"] = "狐名 - 森林的99夜 | 版本1.0.5",
    ["Dev:Cáo Mod"] = "Z某汉化",
    ["Info"] = "信息",
    ["Main"] = "主功能",
    ["Kill Aura"] = "杀戮光环",
    ["Kill Aura Range"] = "杀戮光环范围",
    ["Tree Aura"] = "树木光环",
    ["Chop Aura Range"] = "砍伐光环范围",
    ["Tree Type"] = "树木类型",
    ["Small Tree"] = "小树",
    ["Stun"] = "眩晕",
    ["Auto Stun Deer"] = "自动眩晕鹿",
    ["Auto Stun Owl"] = "自动眩晕猫头鹰",
    ["Auto Stun Ram"] = "自动眩晕公羊",
    ["Auto Eat"] = "自动进食",
    ["Select Food to Fill Hunger"] = "选择食物填充饥饿度",
    ["Carrot"] = "胡萝卜",
    ["Berry"] = "浆果",
    ["Cooked Morsel"] = "熟食小块",
    ["Cooked Steak"] = "熟牛排",
    ["Hunger Threshold"] = "饥饿阈值",
    ["Auto Lost Child"] = "自动寻找迷路儿童",
    ["Auto Grab Children"] = "自动抱起儿童",
    ["Auto Cook"] = "自动烹饪",
    ["Auto Scrapper"] = "自动拆解",
    ["Select Scrapper Items"] = "选择拆解物品",
    ["Sheet Metal"] = "金属板",
    ["Bolt"] = "螺栓",
    ["Metal Chair"] = "金属椅",
    ["Broken Microwave"] = "破损微波炉",
    ["Old Car Engine"] = "旧汽车引擎",
    ["Old Radio"] = "旧收音机",
    ["WashingMachine"] = "洗衣机",
    ["Cultist Gem"] = "邪教徒宝石",
    ["Tyre"] = "轮胎",
    ["UFO Junk"] = "不明飞行物废品",
    ["UFO Component"] = "不明飞行物部件",
    ["Broken Fan"] = "破损风扇",
    ["Chair"] = "椅子",
    ["Auto Fuel"] = "自动燃料",
    ["Select Fuel Items"] = "选择燃料物品",
    ["Coal"] = "煤炭",
    ["Oil Barrel"] = "油桶",
    ["Fuel Canister"] = "燃料罐",
    ["Log"] = "原木",
    ["Auto Sacrifice"] = "自动献祭",
    ["Fishing"] = "钓鱼",
    ["100% Catch fish"] = "100% 捕鱼成功率",
    ["Bring"] = "物品获取",
    ["Chosen Position To Drop Item"] = "选择物品掉落位置",
    ["Player"] = "玩家",
    ["Bring Method"] = "物品获取方式",
    ["Bring Without TP Mode"] = "无传送模式下获取",
    ["Normal"] = "普通",
    ["Fuel Section"] = "燃料分类",
    ["Select Fuel"] = "选择燃料",
    ["Bring Fuel"] = "获取燃料",
    ["Bring selected items for Fuel"] = "获取所选燃料物品",
    ["Teleport"] = "传送",
    ["LocalPlayer"] = "本地玩家",
    ["Mis"] = "杂项",
    ["Tree"] = "树木",
    ["Settings"] = "设置",
    ["Scrapper"] = "拆解机",
    ["Bring Without TP"] = "无传送获取",
    ["Error"] = "错误",
    ["Fast"] = "快速",
    ["Resources Section"] = "资源分类",
    ["Select Resources"] = "选择资源",
    ["Bring Resources"] = "获取资源",
    ["Bring selected items for Resources"] = "获取所选资源物品",
    ["Mental Section"] = "精神分类",
    ["Select Mental"] = "选择精神物品",
    ["Bring Mental"] = "获取精神物品",
    ["Bring selected items for Mental"] = "获取所选精神物品",
    ["Log"] = "原木",
    ["Chair"] = "椅子",
    ["Sapling"] = "树苗",
    ["Diamond"] = "钻石",
    ["Cultist"] = "邪教徒",
    ["Crossbow Cultist"] = "十字弩邪教徒",
    ["Alien"] = "外星人",
    ["Hologram Emitter"] = "全息发射器",
    ["Broken Fan"] = "破损风扇",
    ["Sheet Metal"] = "金属板",
    ["Bolt"] = "螺栓",
    ["Metal Chair"] = "金属椅",
    ["Broken Microwave"] = "破损微波炉",
    ["Old Car Engine"] = "旧汽车引擎",
    ["Old Radio"] = "旧收音机",
    ["WashingMachine"] = "洗衣机",
    ["Cultist Gem"] = "邪教徒宝石",
    ["Tyre"] = "轮胎",
    ["Gem of the Forest Fragment"] = "森林碎片宝石",
    ["UFO Junk"] = "不明飞行物废品",
    ["UFO Component"] = "不明飞行物部件",
    ["Food Section"] = "食物分类",
    ["Select Food"] = "选择食物",
    ["Bring Food"] = "获取食物",
    ["Bring selected items for Food"] = "获取所选食物物品",
    ["Tool Section"] = "工具分类",
    ["Select Tool"] = "选择工具",
    ["Bring Tool"] = "获取工具",
    ["Bring selected items for Tool"] = "获取所选工具物品",
    ["Morsel"] = "肉小块",
    ["Cooked Morsel"] = "熟食小块",
    ["Steak"] = "牛排",
    ["Cooked Steak"] = "熟牛排",
    ["Berry"] = "浆果",
    ["Carrot"] = "胡萝卜",
    ["Cake"] = "蛋糕",
    ["Chilli"] = "辣椒",
    ["Stew"] = "炖菜",
    ["Meat? Sandwich"] = "肉？三明治"
    ["Old Flashlight"] = "旧手电筒",
    ["Strong Flashlight"] = "强光手电筒",
    ["Good Axe"] = "优质斧头",
    ["Strong Axe"] = "强力斧头",
    ["Chainsaw"] = "电锯",
    ["Good Sack"] = "优质麻袋",
    ["Giant Sack"] = "巨型麻袋",
    ["Kunai"] = "苦无",
    ["Morningstar"] = "晨星锤",
    ["Wildfire"] = "野火",
    ["Infernal Sack"] = "地狱麻袋",
    ["Defense Blueprint"] = "防御蓝图",
    ["Bear Trap Blueprint"] = "捕熊陷阱蓝图",
    ["Lava Mine Blueprint"] = " lava 地雷蓝图",
    ["MedKit"] = "医疗包",
    ["Bandage"] = "绷带",
    ["Sacrifice Totem"] = "献祭图腾",
    ["Rabbit Foot"] = "兔子脚",
    ["Wolf Pelt"] = "狼皮",
    ["Alpha Wolf Pelt"] = "阿尔法狼皮",
    ["Bear Pelt"] = "熊皮",
    ["Wolf Corpse"] = "狼尸体",
    ["Alpha Wolf Corpse"] = "阿尔法狼尸体",
    ["Bear Corpse"] = "熊尸体",
    ["Teleport Campfire"] = "传送至篝火",
    ["Tp to Fish"] = "传送至钓鱼点",
    ["Teleport Sacrifice"] = "传送至献祭点",
    ["Set WalkSpeed"] = "设置行走速度",
    ["Auto WalkSpeed"] = "自动行走速度",
    ["Set JumpPower"] = "设置跳跃力",
    ["Auto JumpPower"] = "自动跳跃力",
    ["Set Fly Speed"] = "设置飞行速度",
    ["Fly Toggle"] = "飞行切换",
    ["Noclip"] = "穿墙",
    ["You need TRAP to kill people"] = "你需要陷阱来杀人",
    ["choose player"] = "选择玩家",
    ["Kill player"] = "杀死玩家",
    ["Others"] = "其他",
    ["Full Bright"] = "全亮度",
    ["No Fog"] = "无雾",
    ["Instant Prompt"] = "即时提示",
    ["Unlock Full Map"] = "解锁全地图",
    ["Anti AFK"] = "防挂机",
    ["Choose Chest To Teleport"] = "选择传送的宝箱",
    ["Teleport To Chest"] = "传送至宝箱",
    ["Teleport to the chosen chest"] = "传送至所选宝箱",
    ["Open All Chest"] = "打开所有宝箱",
    ["Item Chest (1)"] = "物品宝箱(1)",
    ["Item Chest2 (1)"] = "物品宝箱2(1)",
    ["Volcanic Chest1 (1)"] = "火山宝箱1(1)",
    ["Volcanic Chest1 (2)"] = "火山宝箱1(2)",
    ["Shape"] = "形状",
    ["Spacing"] = "间距",
    ["Size"] = "大小",
    ["Height"] = "高度",
    ["Speed"] = "速度",
    ["Origin"] = "原点",
    ["Square"] = "正方形",
    ["Circle"] = "圆形",
    ["Spiral"] = "螺旋形",
    ["Triangle"] = "三角形",
    ["Diamond"] = "菱形",
    ["Heart"] = "心形",
    ["Cross"] = "十字形",
    ["Star"] = "星形",
    ["Pentagon"] = "五边形",
    ["Instant"] = "即时",
    ["Center"] = "中心"
    ["Fast"] = "快速",
    ["Normal"] = "普通",
    ["Slow"] = "缓慢",
    ["Player"] = "玩家",
    ["Build Plant (inf tree)"] = "种植（无限树木）"
    ["How to use, you must have 1 saplings to be able to inf"] = "使用方法，你必须有1棵树苗才能进行操作",
    ["Campfire"] = "篝火",
}

local function translateText(text)
    if not text or type(text) ~= "string" then return text end
    
    if Translations[text] then
        return Translations[text]
    end
    
    for en, cn in pairs(Translations) do
        if text:find(en) then
            return text:gsub(en, cn)
        end
    end
    
    return text
end

local function setupTranslationEngine()
    local success, err = pcall(function()
        local oldIndex = getrawmetatable(game).__newindex
        setreadonly(getrawmetatable(game), false)
        
        getrawmetatable(game).__newindex = newcclosure(function(t, k, v)
            if (t:IsA("TextLabel") or t:IsA("TextButton") or t:IsA("TextBox")) and k == "Text" then
                v = translateText(tostring(v))
            end
            return oldIndex(t, k, v)
        end)
        
        setreadonly(getrawmetatable(game), true)
    end)
    
    if not success then
        warn("元表劫持失败:", err)
       
        local translated = {}
        local function scanAndTranslate()
            for _, gui in ipairs(game:GetService("CoreGui"):GetDescendants()) do
                if (gui:IsA("TextLabel") or gui:IsA("TextButton") or gui:IsA("TextBox")) and not translated[gui] then
                    pcall(function()
                        local text = gui.Text
                        if text and text ~= "" then
                            local translatedText = translateText(text)
                            if translatedText ~= text then
                                gui.Text = translatedText
                                translated[gui] = true
                            end
                        end
                    end)
                end
            end
            
            local player = game:GetService("Players").LocalPlayer
            if player and player:FindFirstChild("PlayerGui") then
                for _, gui in ipairs(player.PlayerGui:GetDescendants()) do
                    if (gui:IsA("TextLabel") or gui:IsA("TextButton") or gui:IsA("TextBox")) and not translated[gui] then
                        pcall(function()
                            local text = gui.Text
                            if text and text ~= "" then
                                local translatedText = translateText(text)
                                if translatedText ~= text then
                                    gui.Text = translatedText
                                    translated[gui] = true
                                end
                            end
                        end)
                    end
                end
            end
        end
        
        local function setupDescendantListener(parent)
            parent.DescendantAdded:Connect(function(descendant)
                if descendant:IsA("TextLabel") or descendant:IsA("TextButton") or descendant:IsA("TextBox") then
                    task.wait(0.1)
                    pcall(function()
                        local text = descendant.Text
                        if text and text ~= "" then
                            local translatedText = translateText(text)
                            if translatedText ~= text then
                                descendant.Text = translatedText
                            end
                        end
                    end)
                end
            end)
        end
        
        pcall(setupDescendantListener, game:GetService("CoreGui"))
        local player = game:GetService("Players").LocalPlayer
        if player and player:FindFirstChild("PlayerGui") then
            pcall(setupDescendantListener, player.PlayerGui)
        end
        
        while true do
            scanAndTranslate()
            task.wait(3)
        end
    end
end

task.wait(2)

setupTranslationEngine()

local success, err = pcall(function()
--这下面填加载外部脚本
loadstring(game:HttpGet("https://raw.githubusercontent.com/caomod2077/Script/refs/heads/main/FoxnameHub.lua"))()


end)

if not success then
    warn("加载失败:", err)
end
